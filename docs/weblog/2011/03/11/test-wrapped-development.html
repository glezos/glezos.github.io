<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="el-GR" xml:lang="el-GR">

<head>
	<title>Dimitris Glezos' old personal site » Weblog » Test-wrapped development: Develop from within your tests</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="author" content="Dimitris Glezos" />	
	<meta name="copyright" content="Copyright (c) 2025 Dimitris Glezos" />
	<meta name="description" content="Personal webpage of Dimitris Glezos" />
	<meta name="keywords" content="dimitris, glezos, Δημήτρης, Γλέζος, weblog" />
	
    <link rel="stylesheet" href="https://dimitris.glezos.com:8000/theme/css/style-static.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="https://dimitris.glezos.com:8000/theme/css/style.css" type="text/css" media="screen" />

<link href="https://dimitris.glezos.com:8000/" type="application/atom+xml" rel="alternate" title="Dimitris Glezos' old personal site ATOM Feed" />

	<link rel="accessibility" href="/accessibility/" title="Accessibility details" />
	<link rel="shortcut icon" href="https://dimitris.glezos.com:8000/theme/images/favicon.ico" type="image/x-icon" />

</head>
<body>

<div id="page">
	
<div id="header">
	<ul id="logo" class="simpleinlineul">
		<li><a href="https://dimitris.glezos.com:8000/" class="simlink" tabindex="1" accesskey="1"><img id="top" src="https://dimitris.glezos.com:8000/theme/images/logo.png" alt="Personal webpage of Dimitris Glezos" /></a></li>
		<li class="dotcom"><a href="https://dimitris.glezos.com:8000">.com</a></li><li class="dotcom dotcomactive"><a href="https://dimitris.glezos.com:8000/weblog/" accesskey="2">/weblog</a>	</ul>

</div>

	<div id="content">

	

		<ul class="post">
		<li>

			<h2 id="post-1566"><a href="https://dimitris.glezos.com:8000/weblog/2011/03/11/test-wrapped-development/" rel="bookmark" title="Μόνιμος σύνδεσμος στο 'Test-wrapped development: Develop from within your tests'">Test-wrapped development: Develop from within your tests</a></h2>
		</li>
		<li class="entry"><p>Here's something neat. Today I decided not to develop using the Django
development server, but instead do that from inside my tests. This way I will
work directly on my test database which runs with my test fixtures and when
I'm ready, I'll just write the necessary assertions.</p>
<p>Previously I talked about rendering the test client's <a href="http://miniblog.glezos.com/post/3388080372/tests-browser">responses in the
browser</a> to view the
results of your tests live, before choosing the correct assertions. This time
I'm wrapping the code in a while loop to iterate over my development workflow.</p>
<p>This is something different than test-driven development. This way you don't
run your tests for every development iteration, but rather you just "stuck"
your test case until you like what you see in your code. Here's an example
from a unit test:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">transifex.txcommon.tests.utils</span><span class="w"> </span><span class="kn">import</span><span class="w"> </span><span class="n">response_in_browser</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_homepage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="kc">True</span><span class="p">:</span>
<span class="w">        </span><span class="n">resp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;anonymous&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="n">response_in_browser</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span><span class="w"> </span><span class="n">halt</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="w">        </span><span class="c1"># Loop control:</span>
<span class="w">        </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">raw_input</span><span class="p">(</span><span class="s2">&quot;Halted. [r]eload, drop to [s]hell or any other key to continue: &quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="w"> </span><span class="k">continue</span><span class="p">;</span>
<span class="w">        </span><span class="k">elif</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="p">:</span><span class="w"> </span><span class="kn">from</span><span class="w"> </span><span class="nn">IPython.Shell</span><span class="w"> </span><span class="kn">import</span><span class="w"> </span><span class="n">IPShellEmbed</span><span class="p">;</span><span class="w"> </span><span class="n">IPShellEmbed</span><span class="p">()()</span>
<span class="w">        </span><span class="k">else</span><span class="p">:</span><span class="w"> </span><span class="k">break</span>
</code></pre></div>

<p>Now when I run the test, my browser opens up showing how my homepage looks
like. I start tweaking the template, hit <code>r</code> and view the page in the
browser again. When I'm satisfied with what I see, I copy-paste from the
browser some of the test I want to assert against and hit 's' to drop in a
shell.</p>
<p>I write my assertions there, in-place, with the test data initialized and
ready to be asserted against. When I'm happy with those assertions, I just
copy-paste them in the test case and remove the while statement and loop control code.</p>
<p>This type of testing &amp; development works well for template testing. I'm not sure how this should be called. It's test-wrapped development or something.</p>
<p>Also note that the following config variables will be needed:</p>
<div class="highlight"><pre><span></span><code><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">True</span>
<span class="n">CACHE_BACKEND</span> <span class="o">=</span> <span class="s">&#39;dummy://&#39;</span>
</code></pre></div></li>
		<li class="postmetadata">
				in the afternoon, Friday 11 March 2011 
				<span title=" 14 years, 8 months ago"><img alt="date" src="/theme/images/clock.gif" width="9" height="11" /></span><br/>
				<img alt="comments" src="/theme/images/comments.gif" width="11" height="12" />
				    <a href="https://dimitris.glezos.com:8000/weblog/tag/text/"
				       title="View all posts tagged text"
				       rel="tag">Text</a>				| <img alt="link" src="/theme/images/link.gif" width="7" height="7" />
				<a href="https://dimitris.glezos.com:8000/weblog/2011/03/11/test-wrapped-development/#respond" title="Comment on Test-wrapped development: Develop from within your tests">Test-wrapped development: Develop from within your tests (Comment!)</a>
		</li>
		</ul>


		
		
	</div>

	<div id="sidebar">
		<ul>
			<li>
			<h2>CHOICES</h2>
			<ul>
				<li><a href="https://dimitris.glezos.com:8000/weblog/" tabindex="2">Weblog homepage</a></li>
				<li><a href="https://dimitris.glezos.com:8000/about/en/" tabindex="3">About the author</a></li>
				<li><a href="https://dimitris.glezos.com:8000/weblog/about/" tabindex="4">About this blog</a></li>
				<li><a href="https://dimitris.glezos.com:8000/weblog/archives/" tabindex="5">Archive</a></li>
				<li><a href="https://dimitris.glezos.com:8000/contact/en/" tabindex="6">Contact</a></li>
			</ul>
			</li>

			<li>
			<form method="get" id="sidesearchform" action="https://dimitris.glezos.com:8000/weblog/">
			<h2><label for="sidesearch">SEARCH</label></h2>
			<div><input size="13" type="text" value="(text)" name="s" id="sidesearch" tabindex="7"
			onfocus="this.value='';"
			/>
			<input type="submit" id="sidesearchsubmit" value="!" disabled />
			</div>
			</form>
			</li>

			<li><h2>FEEDS</h2>
			<ul>
				<li class="disabled">All articles (atom)</li>
				<li class="disabled">Main articles (atom)</li>
				<li class="disabled">Mini-posts (atom)</li>
				<li class="disabled">Comments (atom)</li>
			</ul>
			</li>

			<li id="i-read"><h2>COMMUNITIES</h2>

			<h3>Belonging</h3>
			<ul>
				<li><a href="http://planet.ellak.gr/">planet ελλακ</a>, </li>
				<li><a href="http://planet.fedoraproject.org/">planet Fedora</a>, </li>
				<li><a href="http://fedoraproject.gr/">Fedora greece</a>, </li>
				<li><a href="http://gnome.gr/">gnome.gr</a>, </li>
				<li><a href="http://django.gr/">django.gr</a>, </li>
				<li><a href="http://transifex.org/">transifex</a>,</li>
				<li><a href="http://digitalrights.gr/">digitalrights.gr</a>, </li>
				<li><a href="http://groups.google.com/group/patras-lug/">patras <acronym title="Linux User Group">lug</acronym></a></li>
			</ul>

			<h3>Hanging around</h3>
			<ul>
				<li><a href="https://dimitris.glezos.com:8000/photos/">gallery</a>, </li>
				<li><a href="http://twitter.com/glezos">twitter</a>, </li>
				<li><a href="http://identi.ca/glezos">identi.ca</a>, </li>
				<li><a href="http://del.icio.us/glezos">del.icio.us</a>, </li>
				<li><a href="irc://irc.freenode.net:6667/ellak">#ellak on Freenode</a></li>
			</ul>
			
			<h3>Using</h3>
			<ul>
				<li><a href="http://www.webfaction.com/signup?affiliate=dglezos">webfaction</a>, </li>
				<li><a href="http://www.dreamhost.com/r.cgi?263869">dreamhost</a>, </li>
				<li><a href="http://www.radioparadise.com/">radio paradise</a></li>
			</ul>
			
			<h3>Participating</h3>
			<ul>
				<li><a href="http://fedoraproject.org/wiki/FUDCon/">fudcon</a>, </li>
				<li><a href="http://www.athensdigitalweek.gr/">athens digital week</a>, </li>
				<li><a href="http://foss.in/">foss.in</a>, </li>
				<li><a href="http://guadec.org/">GUADEC</a>, </li>
				<li><a href="http://groups.yahoo.com/group/patras-freecycle">patras freecycle</a></li>
			</ul>
			</li>

		</ul>

        <div class="poetry">
        <p>
            CODE IS POETRY.
            THIS WEBSITE USES ONLY <span title="(HUMANLY)">CORRECT</span> <a href="http://validator.w3.org/check/referer" title="Website uses valid XHTML">XHTML</a> AND <a href="http://jigsaw.w3.org/css-validator/validator?uri=/weblog/wp-content/themes/glezos/style.css">CSS</a>
            AND STATES <a href="https://dimitris.glezos.com:8000/website/accessibility/">EQUALLY ACCESSIBLE</a> BY EVERYONE.
        </p>
        </div>
	</div>
	<div class="clearer">&nbsp;</div>


<div id="bodydown">
	<div id="sidebar-bottom">
		<ul class="simpleblockul nobullet">
		<li>
			<a class="getfirefox" href="http://getfirefox.com/" title="Get Firefox - Take Back the Web"><span class="hide">Get Firefox - Take Back the Web</span></a>
		</li>
		<li>
			<a class="validhtml" href="http://validator.w3.org/check/referer" title="Website uses Valid XHTML 1.0 Strict"><span class="hide">Website uses Valid XHTML 1.0 Strict</span></a>
		</li>
		<li>
			<a class="validcss" href="http://jigsaw.w3.org/css-validator/validator?uri=/style.css" title="Website uses Valid CSS"><span class="hide">Website uses Valid CSS</span></a>
		</li>
		</ul>
	</div>
	<span id="pi">
		<a href="https://dimitris.glezos.com:8000/website/terms/">π</a>
	</span>
</div>

</div> <!-- /page -->

<div id="bottom">
	<ul class="floatleft simpleinlineul">
		<li><a href="https://dimitris.glezos.com:8000/contact/" accesskey="9">Dimitris Glezos</a> |</li>
		<li><a href="https://dimitris.glezos.com:8000/website/terms/" accesskey="8"><em>Some</em> rights reserved</a> |</li>
		<li><a href="https://dimitris.glezos.com:8000/website/accessibility/" accesskey="0">Accessibility statement</a></li>
	</ul>
</div>

</body>
</html>