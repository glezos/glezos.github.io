<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="el-GR" xml:lang="el-GR">

<head>
	<title>Dimitris Glezos' old personal site » Weblog » Rendering Django tests in your web browser</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="author" content="Dimitris Glezos" />	
	<meta name="copyright" content="Copyright (c) 2025 Dimitris Glezos" />
	<meta name="description" content="Personal webpage of Dimitris Glezos" />
	<meta name="keywords" content="dimitris, glezos, Δημήτρης, Γλέζος, weblog" />
	
    <link rel="stylesheet" href="https://dimitris.glezos.com/theme/css/style-static.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="https://dimitris.glezos.com/theme/css/style.css" type="text/css" media="screen" />

    <link href="https://dimitris.glezos.com/weblog/feeds/all.atom" type="application/atom+xml" rel="alternate" title="Dimitris Glezos' old personal site ATOM Feed" />
    <link href="https://dimitris.glezos.com/weblog/feeds/all.rss" type="application/rss+xml" rel="alternate" title="Dimitris Glezos' old personal site RSS Feed" />

  <script src="https://dimitris.glezos.com/theme/js/base.js"></script>

	<link rel="accessibility" href="/accessibility/" title="Accessibility details" />
	<link rel="shortcut icon" href="https://dimitris.glezos.com/theme/images/favicon.ico" type="image/x-icon" />

</head>
<body>

<div id="page">
	
<div id="header">
	<ul id="logo" class="simpleinlineul">
		<li><a href="https://dimitris.glezos.com/" class="simlink" tabindex="1" accesskey="1"><img id="top" src="https://dimitris.glezos.com/theme/images/logo.png" alt="Personal webpage of Dimitris Glezos" /></a></li>
		<li class="dotcom"><a href="https://dimitris.glezos.com">.com</a></li><li class="dotcom dotcomactive"><a href="https://dimitris.glezos.com/weblog/" accesskey="2">/weblog</a>	</ul>

</div>

	<div id="content">

	

		<ul class="post">
		<li>

			<h2 id="post-1566"><a href="https://dimitris.glezos.com/weblog/2011/02/19/tests-browser/" rel="bookmark" title="Μόνιμος σύνδεσμος στο 'Rendering Django tests in your web browser'">Rendering Django tests in your web browser</a></h2>
		</li>
		<li class="entry"><p>There are a number of levels you can test your Django project. You can test any Python method, your models, your views and even your templates. In the latter case, you're actually testing the rendered response of a view with a specific context. Most of the times, this result is HTML.</p>
<p>When I write my assertion, I often need to query for a particular string in the response's content. I end up <a href="http://miniblog.glezos.com/post/401011795/django-ipython">opening ipython</a>, print the result and try to find something in that mess.</p>
<p>This takes a lot of time, because the command-line window isn't the best HTML renderer in the world. Here's a simple method to take the response content and render it in a browser:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">response_in_browser</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span><span class="w"> </span><span class="n">halt</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;Open a browser and render the response&#39;s content.&quot;&quot;&quot;</span>

<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span><span class="o">,</span><span class="w"> </span><span class="nn">webbrowser</span><span class="o">,</span><span class="w"> </span><span class="nn">time</span>
<span class="w">    </span><span class="k">with</span><span class="w"> </span><span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">f</span><span class="p">:</span>
<span class="w">        </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="w">        </span><span class="n">f</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="w">        </span><span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">halt</span><span class="p">:</span>
<span class="w">            </span><span class="n">raw_input</span><span class="p">(</span><span class="s2">&quot;Press a key to continue with your tests...&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">else</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># Give the browser a chance to open the file</span>
<span class="w">            </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<p>And just call it from inside any test of yours:</p>
<div class="highlight"><pre><span></span><code><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="w">    </span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;myUrlName&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">])</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">txcommon.tests.utils</span><span class="w"> </span><span class="kn">import</span><span class="w"> </span><span class="n">response_in_browser</span>
<span class="n">response_in_browser</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>

<p>Your browser will open for you:</p>
<p><img alt="None" src="http://media.tumblr.com/tumblr_lgvubuaB0s1qati3p.png"></p>
<p>One of the first issues you might face is seeing a style-less page. This
happens becuase the test server isn't really a web server, and you're probably
serving static files from something relative such as <code>'/site_media'</code>. The
solution is simple: Run a separate Django server and tweak your
development-only static URL to something like:</p>
<div class="highlight"><pre><span></span><code>STATIC_URL = &#39;http://localhost:8000/site_media/
</code></pre></div>

<p>This will trick the temporary window to show the test's HTML with the static files served from the server. Voilà:</p>
<p><img alt="None" src="http://media.tumblr.com/tumblr_lgvuc5Rq8Z1qati3p.png"></p>
<p>You can then use your browser's browser's super tools such as 'View Source' and 'Inspect Element'.</p>
<p><img alt="None" src="http://media.tumblr.com/tumblr_lgvuk3DBKi1qati3p.png"></p></li>
		<li class="postmetadata">
				in the evening, Saturday 19 February 2011 
				<span title=" 14 years, 8 months ago"><img alt="date" src="/theme/images/clock.gif" width="9" height="11" /></span><br/>
				<img alt="comments" src="/theme/images/comments.gif" width="11" height="12" />
				    <a href="https://dimitris.glezos.com/weblog/tag/text/"
				       title="View all posts tagged text"
				       rel="tag">Text</a>				| <img alt="link" src="/theme/images/link.gif" width="7" height="7" />
				<a href="https://dimitris.glezos.com/weblog/2011/02/19/tests-browser/#respond" title="Comment on Rendering Django tests in your web browser">Rendering Django tests in your web browser (Comment!)</a>
		</li>
		</ul>


		
		
	</div>

	<div id="sidebar">
		<ul>
			<li>
			<h2>CHOICES</h2>
			<ul>
				<li><a href="https://dimitris.glezos.com/weblog/" tabindex="2">Weblog homepage</a></li>
				<li><a href="https://dimitris.glezos.com/about/en/" tabindex="3">About the author</a></li>
				<li><a href="https://dimitris.glezos.com/weblog/about/" tabindex="4">About this blog</a></li>
				<li><a href="https://dimitris.glezos.com/weblog/archives/" tabindex="5">Archive</a></li>
				<li><a href="https://dimitris.glezos.com/contact/en/" tabindex="6">Contact</a></li>
			</ul>
			</li>

			<li>
			<form method="get" id="sidesearchform" action="https://dimitris.glezos.com/weblog/">
			<h2><label for="sidesearch">SEARCH</label></h2>
			<div><input size="13" type="text" value="(text)" name="s" id="sidesearch" tabindex="7"
			onfocus="this.value='';"
			/>
			<input type="submit" id="sidesearchsubmit" value="!" disabled />
			</div>
			</form>
			</li>

			<li><h2>FEEDS</h2>
			<ul>
				<li>
				  <a href="https://dimitris.glezos.com/weblog/feeds/all.rss">All articles</a> (<a href="https://dimitris.glezos.com/weblog/feeds/all.atom">atom</a>)
				</li>
				<li>
				  <a href="https://dimitris.glezos.com/weblog/feeds/tag/mini-post.rss">Mini-posts</a>
				  (<a href="https://dimitris.glezos.com/weblog/feeds/tag/mini-post.atom">atom</a>)
				</li>
			</ul>
			</li>

			<li id="i-read"><h2>COMMUNITIES</h2>

			<h3>Belonging</h3>
			<ul>
				<li><a href="http://planet.ellak.gr/">planet ελλακ</a>, </li>
				<li><a href="http://planet.fedoraproject.org/">planet Fedora</a>, </li>
				<li><a href="http://fedoraproject.gr/">Fedora greece</a>, </li>
				<li><a href="http://gnome.gr/">gnome.gr</a>, </li>
				<li><a href="http://django.gr/">django.gr</a>, </li>
				<li><a href="http://transifex.org/">transifex</a>,</li>
				<li><a href="http://digitalrights.gr/">digitalrights.gr</a>, </li>
				<li><a href="http://groups.google.com/group/patras-lug/">patras <acronym title="Linux User Group">lug</acronym></a></li>
			</ul>

			<h3>Hanging around</h3>
			<ul>
				<li><a href="https://dimitris.glezos.com/photos/">gallery</a>, </li>
				<li><a href="http://twitter.com/glezos">twitter</a>, </li>
				<li><a href="http://identi.ca/glezos">identi.ca</a>, </li>
				<li><a href="http://del.icio.us/glezos">del.icio.us</a>, </li>
				<li><a href="irc://irc.freenode.net:6667/ellak">#ellak on Freenode</a></li>
			</ul>
			
			<h3>Using</h3>
			<ul>
				<li><a href="http://www.webfaction.com/signup?affiliate=dglezos">webfaction</a>, </li>
				<li><a href="http://www.dreamhost.com/r.cgi?263869">dreamhost</a>, </li>
				<li><a href="http://www.radioparadise.com/">radio paradise</a></li>
			</ul>
			
			<h3>Participating</h3>
			<ul>
				<li><a href="http://fedoraproject.org/wiki/FUDCon/">fudcon</a>, </li>
				<li><a href="http://www.athensdigitalweek.gr/">athens digital week</a>, </li>
				<li><a href="http://foss.in/">foss.in</a>, </li>
				<li><a href="http://guadec.org/">GUADEC</a>, </li>
				<li><a href="http://groups.yahoo.com/group/patras-freecycle">patras freecycle</a></li>
			</ul>
			</li>

		</ul>

        <div class="poetry">
        <p>
            CODE IS POETRY.
            THIS WEBSITE USES ONLY <span title="(HUMANLY)">CORRECT</span> <a href="http://validator.w3.org/check/referer" title="Website uses valid XHTML">XHTML</a> AND <a href="http://jigsaw.w3.org/css-validator/validator?uri=/weblog/wp-content/themes/glezos/style.css">CSS</a>
            AND STATES <a href="https://dimitris.glezos.com/website/accessibility/">EQUALLY ACCESSIBLE</a> BY EVERYONE.
        </p>
        </div>
	</div>
	<div class="clearer">&nbsp;</div>


<div id="bodydown">
	<div id="sidebar-bottom">
		<ul class="simpleblockul nobullet">
		<li>
			<a class="getfirefox" href="http://getfirefox.com/" title="Get Firefox - Take Back the Web"><span class="hide">Get Firefox - Take Back the Web</span></a>
		</li>
		<li>
			<a class="validhtml" href="http://validator.w3.org/check/referer" title="Website uses Valid XHTML 1.0 Strict"><span class="hide">Website uses Valid XHTML 1.0 Strict</span></a>
		</li>
		<li>
			<a class="validcss" href="http://jigsaw.w3.org/css-validator/validator?uri=/style.css" title="Website uses Valid CSS"><span class="hide">Website uses Valid CSS</span></a>
		</li>
		</ul>
	</div>
	<span id="pi">
		<a href="https://dimitris.glezos.com/website/terms/">π</a>
	</span>
</div>

</div> <!-- /page -->

<div id="bottom">
	<ul class="floatleft simpleinlineul">
		<li><a href="https://dimitris.glezos.com/contact/" accesskey="9">Dimitris Glezos</a> |</li>
		<li><a href="https://dimitris.glezos.com/website/terms/" accesskey="8"><em>Some</em> rights reserved</a> |</li>
		<li><a href="https://dimitris.glezos.com/website/accessibility/" accesskey="0">Accessibility statement</a></li>
	</ul>
</div>

</body>
</html>