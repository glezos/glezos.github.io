<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="el-GR" xml:lang="el-GR">

<head>
	<title>Dimitris Glezos » Weblog  &raquo; RSS, Πλανήτες και Django</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="author" content="Dimitris Glezos" />	
	<meta name="copyright" content="Copyright (c) 2005 Dimitris Glezos" />
	<meta name="description" content="Personal webpage of Dimitris Glezos" />
	<meta name="keywords" content="dimitris, glezos, Δημήτρης, Γλέζος, weblog" />
	<meta name="generator" content="WordPress" />
	
	<link rel="stylesheet" href="/style.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="/weblog/wp-content/themes/glezos/style.css" type="text/css" media="screen" />

	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/weblog/feed" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="/weblog/feed/rss" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/weblog/feed/atom" />
	<link rel="accessibility" href="/website/accessibility/" title="Accessibility details" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
	<link rel="author" href="/contact/" title="Contact the author" />
	<link rel="start" href="/weblog/" title="Weblog home page" />

	<link rel='stylesheet' href='/weblog/wp-content/plugins/flickr-gallery/flickr-gallery.css?ver=1085258682' type='text/css' media='' />
<link rel='stylesheet' href='/weblog/wp-content/plugins/flickr-gallery/tab-theme/jquery-ui-1.5.2.css?ver=1.5.2' type='text/css' media='' />
<link rel='stylesheet' href='/weblog/wp-content/plugins/flickr-gallery/flightbox/jquery.flightbox.css?ver=2093480125' type='text/css' media='' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/weblog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/weblog/wp-includes/wlwmanifest.xml" /> 
<script type='text/javascript' src='/weblog/wp-includes/js/jquery/jquery.js?ver=1.2.6'></script>
<script type='text/javascript' src='/weblog/wp-includes/js/jquery/ui.core.js?ver=1.5.2'></script>
<script type='text/javascript' src='/weblog/wp-includes/js/jquery/ui.tabs.js?ver=1.5.2'></script>
<script type='text/javascript' src='/weblog/wp-content/plugins/flickr-gallery/flightbox/jquery.flightbox.js?ver=1848628761'></script>
<meta name="generator" content="WordPress 2.7.1" />

<script language="javascript1.4" type="text/javascript" src="/weblog/wp-content/plugins/audio-player/audio-player.js"></script>

<!-- JavaScript Pull-Quotes plugin v1.6.5
	http://striderweb.com/nerdaphernalia/features/wp-javascript-pull-quotes/ -->
	<link rel="stylesheet" href="/weblog/wp-content/plugins/jspullquotes/files/jspullquotes-core.css" type="text/css" />
	<link rel="stylesheet" href="/weblog/wp-content/plugins/jspullquotes/styles/Default.css" type="text/css" />
	<script type="text/javascript" src="/weblog/wp-content/plugins/jspullquotes/files/jspullquotes.js"></script>
	<script type="text/javascript">
		var arrOptions = new Array("1", "right", "1", "1", "", "blockquote", "pullquote", "pullquote pqRight");
		pullQuoteOpts(arrOptions);
	</script>
<!-- end pull-quote additions -->

<link rel="stylesheet" href="/weblog/wp-content/plugins/wp-syntax/wp-syntax.css" type="text/css" media="screen" />
<script language="javascript" type="text/javascript" src="/weblog/wp-content/plugins/wpg2/js/dtree.js"></script>
<link rel="stylesheet" type="text/css" href="/photos/main.php?g2_view=imageframe.CSS&amp;g2_frames=None%7Cbleh"/>
<link rel="stylesheet" type="text/css" media="screen" href="/weblog/wp-content/plugins/wpg2/css/wpg2.css"/>

	<!-- Google analytics -->
	<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-264563-1";
		urchinTracker();
	</script>
</head>
<body>

<div id="page">
	
<div id="header">
	<ul id="logo" class="simpleinlineul">
		<li><a href="/" class="simlink" tabindex="1" accesskey="1"><img id="top" width="159" height="67" src="/images/logo.png" alt="Personal webpage of Dimitris Glezos" /></a></li><li class="dotcom"><a href="/">.com/</a></li><li class="dotcom dotcomactive"><a href="/weblog/" accesskey="2">weblog</a></li>
	</ul>
	<span id="date">24 <span id="month">may</span> 09</span>
</div>

	<div id="content" class="widecolumn">
				
  	
		<ul class="post">
		<li>
			<h2 id="post-522">RSS, Πλανήτες και Django</h2>
		</li>
	
		<li class="entry">
<p>Δυστυχώς είναι συχνό φαινόμενο να εμφανίζονται διπλές μερικές καταχωρήσεις στους Πλανήτες, όπως συμβαίνει για παράδειγμα στο <a href="http://planet.ellak.gr/">planet.ellak.gr</a> με το feed (ροή) του <a href="http://www.django.gr/weblog/">django.gr weblog</a>.</p>

<p>Αυτό από ότι κατάλαβα συμβαίνει με τις ροές <acronym title="Really Simple Syndication">RSS</acronym> που δεν έχουν πεδία <code>pubDate</code>, τις οποίες το λογισμικό planet δε μεταχειρίζεται σωστά. Αν κάτι αλλάξει σε μία καταχώρηση μιας τέτοιας ροής, τότε το planet υποθέτει ότι είναι νέα καταχώρηση, την αναρτά, και δε σβήνει την παλιά γιατί είναι ήδη δημοσιευμένη. Αυτό που θα έπρεπε να κάνει όμως είναι να συγκρίνει κάπως τις δύο καταχωρήσεις αν δεν υπάρχει το pubDate, πχ. ελέγχοντας το <code>&lt;link&gt;</code> tag τους πριν αποφανθεί ότι είναι διαφορετικές καταχωρήσεις. Μια και είναι δημοφιλές λογισμικό, θέλω να πιστεύω ότι η λειτουργικότητα αυτή είναι σχεδιαστική απόφαση κι όχι κάποιο σφάλμα (it&#8217;s a feature, not a bug).</p>

<p>Από την πλευρά μας αυτό που μπορούμε να κάνουμε είναι απλά να προσθέσουμε το πεδίο <code>pubDate</code> στα feed που δεν το έχουν. Στα RSS 2.0 και Atom τουλάχιστον, γιατί αν διαθέτουμε μόνο ένα παλαιολιθικό RSS 0.92, δεν έχουμε τέτοια επιλογή χωρίς να κάνουμε τη σύνταξη της ροής μη-έγκυρη ως προς το πρότυπο.</p>

<p>Το <a href="http://www.django.gr/">django.gr</a> είναι γραμμένο σε Django (προφανώς), και ο κώδικας που παράγει τη ροή RSS είναι ο παρακάτω:</p>


<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">class</span> WeblogEntryFeed<span style="color: black;">&#40;</span>Feed<span style="color: black;">&#41;</span>:
    title = <span style="color: #483d8b;">&quot;The Greek Django User Group weblog&quot;</span>
    link = <span style="color: #483d8b;">&quot;http://www.django.gr/weblog/&quot;</span>
    description = <span style="color: #483d8b;">&quot;Latest news about Django, the Python Web framework,&quot;</span> + \
                  <span style="color: #483d8b;">&quot; from the Greek Django User Group.&quot;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> items<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> Entry.<span style="color: black;">objects</span>.<span style="color: #008000;">filter</span><span style="color: black;">&#40;</span>pub_date__lte=<span style="color: #dc143c;">datetime</span>.<span style="color: #dc143c;">datetime</span>.<span style="color: black;">now</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#91;</span>:<span style="color: #ff4500;">10</span><span style="color: black;">&#93;</span></pre></div></div>


<p>Για να μορφοποιήσουμε τη ροή ώστε να περιέχει για κάθε άρθρο και την ημερομηνία δημοσίευσης, προσθέτουμε τα εξής:</p>


<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">    <span style="color: #ff7700;font-weight:bold;">def</span> item_pubdate<span style="color: black;">&#40;</span><span style="color: #008000;">self</span>, item<span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> item.<span style="color: black;">pub_date</span></pre></div></div>


<p>Αυτά.</p>	
		</li>
		<li class="postmetadata">
				in the night, Κυριακή 16 Σεπτεμβρίου 2007				<span title="1 χρόνο και 8 μήνες πριν"><img alt="date" src="/images/clock.gif" width="9" height="11" /></span>
				<br/>
				[ <a href="/weblog/category/django" title="View all posts in Django" rel="category tag">Django</a>,  <a href="/weblog/category/foss" title="View all posts in FOSS, linux" rel="category tag">FOSS, linux</a>,  <a href="/weblog/category/tech" title="View all posts in Tech/web" rel="category tag">Tech/web</a> ]
				| <img alt="link" src="/images/link.gif" width="7" height="7" />
					<a href="/weblog/2007/09/17/rss-planet-django" rel="bookmark" title="Permanent link to 'RSS, Πλανήτες και Django'">Permalink</a>
									| <a href="#respond">Comment!</a>
				
		</li>
		</ul>

	
 
		<h2 id="comments">No comment yet</h2>
	 
 

<hr />



<h3 id="respond">Comment!</h3>	
<div id="commenting">

	<form action="/weblog/wp-comments-post.php" method="post" id="commentform">

	<div id="commentinputs">	
	
		<p>
		<label for="author">Name</label><br />
		<input type="text" name="author" id="author" value="" size="20" tabindex="8" />
	</p>
	<p>	
		<label for="email">e-mail</label><br />
		<input type="text" name="email" id="email" value="" size="20" tabindex="9" />
	</p>
	<p>	
		<label for="url">Website</label><br />
		<input type="text" name="url" id="url" value="" size="20" tabindex="10" />
	</p>
		</div>

	<div id="commentadvices">
		<p><em>Feel free to express yourselves!</em></p>
		<p><strong>Please read the <a href="/weblog/about/#comments">comment policy</a> before commenting.</strong></p>
		<p>Your email address will never be published. It is only asked to send you a personal email if needed. I hate spam too.</p>
		<p><strong>XHTML</strong> tags allowed: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre lang=&quot;&quot; line=&quot;&quot; escaped=&quot;&quot;&gt; </code>. For block quotes use <code>&lt;blockquote&gt;</code>.</p>
	</div>
	
	<div class="clearer">&nbsp;</div>

	<p>
		<label for="comment">Comment</label><br/>
		<textarea name="comment" id="comment" cols="80" rows="15" tabindex="11"></textarea>
	</p>

	<div class="txtareasize">
		<img src="/images/reduceH.gif" onkeypress="document.getElementById('comment').rows -= 4;" onclick="document.getElementById('comment').rows -= 4;" title="Σμίκρυνση χώρου σχολίων" alt="Reduce textarea size" />
		<img src="/images/enlargeH.gif" onkeypress="document.getElementById('comment').rows += 4;" onclick="document.getElementById('comment').rows += 4;" title="Μεγέθυνση χώρου σχολίων" alt="Increase textarea size" />
	</div>
	<p>
		<input name="submit" type="submit" id="submit" tabindex="12" value="Comment!" />
		<input type="hidden" name="comment_post_ID" value="522" />
<input type="hidden" id="sk2_time" name="sk2_time" value="1243186551" /><input type="hidden" id="sk2_ip" name="sk2_ip" value="127.0.0.1" /><input type="hidden" id="sk2_payload" name="sk2_payload" value="1fd7f736f76cf51242b62a1b2517f7bd" /><input type="hidden" id="sk2_my_js_check1" name="sk2_my_js_check1" value="k9y193fcqu" />
<input type="hidden" id="sk2_my_js_check2" name="sk2_my_js_check2" value="764151704dca8acce7750bb887ac6393" />
<script type="text/javascript">
<!--
	document.write('<input type="hidden" id="sk2_my_js_payload" name="sk2_my_js_payload" value="');
	document.write(Math.round ( Math.abs(Math.round ( Math.abs(Math.round ( Math.abs(Math.round ( Math.abs(Math.round ( Math.abs((Math.min((1 * 1), 25) - 1) % 3)) / 4)) % 24)) / 1)))));
	document.write('" />');
-->
</script>
	</p>
	</form>
	
	<div id="preview-wrapper">
			</div>

</div>

	
	
		<hr/>

		<ul class="cols3 simpleblockul">
		<li class="left">
			← <a href="/weblog/2007/09/12/do-what-you-want">Λειτουργικά εργαλεία</a>&nbsp;
		</li>
		<li class="right">
			<a href="/weblog/2007/09/17/apples-and-worms">Σκουλουκιασμένα μήλα</a> →		</li>
		<li>
			↑ <a href="/weblog/">Return</a>
		</li>
		</ul>
	</div>

	<div id="sidebar">
		<ul>

			<li>
			<h2>CHOICES</h2>
			<ul>
				<li><a href="/weblog/" tabindex="2">Weblog homepage</a></li>
				<li><a href="/about/" tabindex="3">About the author</a></li>
				<li><a href="/weblog/about/" tabindex="4">About this blog</a></li>
				<li><a href="/weblog/archives/" tabindex="5">Archive</a></li>
				<li><a href="/contact/" tabindex="6">Contact</a></li>
			</ul>
			</li>

			<li>
			<form method="get" id="sidesearchform" action="/weblog/">
			<h2><label for="sidesearch">SEARCH</label></h2>
			<div><input size="13" type="text" value="(text)" name="s" id="sidesearch" tabindex="7"
			onfocus="this.value='';"
			/>
			<input type="submit" id="sidesearchsubmit" value="!" />
			</div>
			</form>
			</li>

			<li><h2>FEEDS</h2>
			<ul>
				<li><a href="/weblog/feed/">All articles</a> (<a href="/weblog/feed/atom/">atom</a>)</li>
				<li><a href="/weblog/feed/?cat=-24">Main articles</a> (<a href="/weblog/feed/atom/?cat=-24">atom</a>)</li>
				<li><a href="/weblog/category/minipost/feed">Mini-posts</a> (<a href="/weblog/category/minipost/feed/atom/">atom</a>)</li>
				<li><a href="/weblog/comments/feed/">Comments</a> (<a href="/weblog/comments/feed/atom/">atom</a>)</li>
			</ul>
			</li>

			<li id="i-read"><h2>COMMUNITIES</h2>

			<h3>Belonging</h3>
			<ul>
				<li><a href="http://planet.ellak.gr/">planet ελλακ</a>, </li>
				<li><a href="http://planet.fedoraproject.org/">planet Fedora</a>, </li>
				<li><a href="http://fedoraproject.gr/">Fedora greece</a>, </li>
				<li><a href="http://gnome.gr/">gnome.gr</a>, </li>
				<li><a href="http://django.gr/">django.gr</a>, </li>
				<li><a href="http://transifex.org/">transifex</a>,</li>
				<li><a href="http://digitalrights.gr/">digitalrights.gr</a>, </li>
				<li><a href="http://groups.google.com/group/patras-lug/">patras <acronym title="Linux User Group">lug</acronym></a></li>
			</ul>

			<h3>Hanging around</h3>
			<ul>
				<li><a href="/photos/">gallery</a>, </li>
				<li><a href="http://twitter.com/glezos">twitter</a>, </li>
				<li><a href="http://identi.ca/glezos">identi.ca</a>, </li>
				<li><a href="http://del.icio.us/glezos">del.icio.us</a>, </li>
				<li><a href="irc://irc.freenode.net:6667/ellak">#ellak on Freenode</a></li>
			</ul>
			
			<h3>Using</h3>
			<ul>
				<li><a href="http://www.webfaction.com/signup?affiliate=dglezos">webfaction</a>, </li>
				<li><a href="http://www.dreamhost.com/r.cgi?263869">dreamhost</a>, </li>
				<li><a href="http://www.radioparadise.com/">radio paradise</a></li>
			</ul>
			
			<h3>Participating</h3>
			<ul>
				<li><a href="http://fedoraproject.org/wiki/FUDCon/">fudcon</a>, </li>
				<li><a href="http://www.athensdigitalweek.gr/">athens digital week</a>, </li>
				<li><a href="http://foss.in/">foss.in</a>, </li>
				<li><a href="http://guadec.org/">GUADEC</a>, </li>
				<li><a href="http://groups.yahoo.com/group/patras-freecycle">patras freecycle</a></li>
			</ul>
			</li>

		</ul>

		<div class="poetry">
		<p>
			CODE IS POETRY.
			THIS WEBSITE USES ONLY <span title="(HUMANLY)">CORRECT</span> <a href="http://validator.w3.org/check/referer" title="Website uses valid XHTML">XHTML</a> AND <a href="http://jigsaw.w3.org/css-validator/validator?uri=/weblog/wp-content/themes/glezos/style.css">CSS</a>
			AND STATES <a href="/website/accessibility/">EQUALLY ACCESSILE</a> BY EVERYONE.
		</p>

		</div>

	</div>
	<div class="clearer">&nbsp;</div>

	

<div id="bodydown">
	<div id="sidebar-bottom">
		<ul class="simpleblockul nobullet">
		<li>
			<a class="getfirefox" href="http://getfirefox.com/" title="Get Firefox - Take Back the Web"><span class="hide">Get Firefox - Take Back the Web</span></a>
		</li>
		<li>
			<a class="validhtml" href="http://validator.w3.org/check/referer" title="Website uses Valid XHTML 1.0 Strict"><span class="hide">Website uses Valid XHTML 1.0 Strict</span></a>
		</li>
		<li>
			<a class="validcss" href="http://jigsaw.w3.org/css-validator/validator?uri=/style.css" title="Website uses Valid CSS"><span class="hide">Website uses Valid CSS</span></a>
		</li>
		</ul>
	</div>
	<span id="pi">
		<a href="/website/terms/">π</a>
	</span>
</div>

</div> <!-- /page -->

<div id="bottom">
	<ul class="floatleft simpleinlineul">
		<li><a href="/contact/" accesskey="9">Dimitris Glezos</a> |</li>
		<li><a href="/website/terms/" accesskey="8"><em>Some</em> rights reserved</a> |</li>
		<li><a href="/website/accessibility/" accesskey="0">Accessibility statement</a></li>
	</ul>
	<span class="floatright">
	Last post: May 23 2009, 14:03 CDT	</span>
</div>


			<script type="text/javascript">
				jQuery(document).ready(function(){
					jQuery("img.flickr.square,img.flickr.thumbnail,img.flickr.small").flightbox();
				});
			</script>
		
</body>
</html>

<!-- Dynamic Page Served (once) in 1.064 seconds -->
