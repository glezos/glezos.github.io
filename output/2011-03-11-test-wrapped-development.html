<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Dimitris Glezos' Personal website</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="imagetoolbar" content="no">
        <meta http-equiv="pragma" content="cache">
        <meta http-equiv="cache-control" content="cache">
        <meta http-equiv="vary" content="content-language">
        <meta http-equiv="Cache-control" content="max-age=2592000, public">
        <meta http-equiv="content-style-type" content="text/css">
        <link rel="stylesheet" type="text/css" href="/theme/css/screen.css">
        <link rel="stylesheet" type="text/css" href="/theme/css/highlight.css">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css">
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
        <link rel="publisher" href="">
        <link rel="apple-touch-startup-image" href="/theme/images/logo.png">
        <link type="text/plain" rel="socialmedia" href="/socialmedia.txt">
        <link rel="dns-prefetch" href=""/>
        <link rel="dns-prefetch" href="//www.gstatic.com"/>
        <link rel="dns-prefetch" href="//fonts.gstatic.com"/>
        <link rel="dns-prefetch" href="//fonts.googleapis.com"/>
        <link rel="dns-prefetch" href="//accounts.google.com"/>
        <link rel="dns-prefetch" href="//ssl.google-analytics.com"/>
        <link rel="dns-prefetch" href="//www.google-analytics.com"/>
        <link rel="dns-prefetch" href="//googleads.g.doubleclick.net"/>
        <link rel="dns-prefetch" href="//pagead2.googlesyndication.com"/>
        <link rel="dns-prefetch" href="//twemoji.maxcdn.com"/>
        <link rel="dns-prefetch" href="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"/>
        <link rel="dns-prefetch" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400"/>
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="application-name" content="Dimitris Glezos' Personal website"/>
        <meta name="msapplication-starturl" content="http:"/>
        <meta name="msapplication-tooltip" content=""/>
        <meta name="msapplication-window" content="width=1024;height=768"/>
        <meta name="msapplication-task" content="name=Dimitris Glezos' Personal website;action-uri=http:;icon-uri=/theme/images/favicon.ico"/>
        <meta name="msapplication-TileImage" content="/theme/images/apple-touch-icon-144x144.png"/>
        <meta name="msapplication-TileColor" content="#1F1F21"/>
        <meta name="application-name" content="Dimitris Glezos' Personal website">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320"/>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="google-site-verification" content="">
        <meta name="alexaVerifyID" content=""/>
        <meta name="wot-verification" content=""/>
        <meta name="msvalidate.01" content="" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="medium" content="mult">
        <meta name="adblock" content="disable">
        <meta name="rating" content="General">
        <meta name="resource-type" content="document">
        <meta name="revisit-after" content="1 days">
        <meta name="revisit" content="1">
        <meta name="robots" content="index,follow">
        <meta name="no-email-collection" content="http://www.unspam.com/noemailcollection/">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@">
        <meta property="og:site_name" content="Dimitris Glezos' Personal website">
        <meta property="og:locale" content="en">
        <link rel="canonical" href="/2011-03-11-test-wrapped-development.html">
        <meta property="og:type" content="article">
        <meta property="og:title" content="Test-wrapped development: Develop from within your tests">
        <meta property="og:url" content="2011-03-11-test-wrapped-development.html">
        <meta property="og:description" content="Here&#39;s something neat. Today I decided not to develop using the Django development server, but instead do that from inside my tests. This way I will work directly on my test database which runs with my test fixtures and when I&#39;m ready, I&#39;ll just write the necessary ...">
        <meta property="article:published_time" content="Friday, March 11, 2011">
        <meta name="twitter:title" content="Test-wrapped development: Develop from within your tests">
        <meta name="twitter:description" content="Here&#39;s something neat. Today I decided not to develop using the Django development server, but instead do that from inside my tests. This way I will work directly on my test database which runs with my test fixtures and when I&#39;m ready, I&#39;ll just write the necessary ...">
        <meta name="description" content="Here&#39;s something neat. Today I decided not to develop using the Django development server, but instead do that from inside my tests. This way I will work directly on my test database which runs with my test fixtures and when I&#39;m ready, I&#39;ll just write the necessary ...">
        <meta name="twitter:creator" content="@">
        <meta property="og:image" content="/theme/images/logo.png">
        <meta name="twitter:image" content="/theme/images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="300">
        <meta property="og:image:height" content="300">
        <meta property="article:section" content="text">
        <meta property="article:author" content="glezos-blog">
        <script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', '', 'auto');ga('send', 'pageview');var _qevents = _qevents || [];setTimeout(function() { window.onscroll = function() { window.onscroll = null;
        ga('send','event','Ajuste de Tasa de Rebote','Scroll despues de 5 segundos');}}, 5000);</script>
        <script src="//twemoji.maxcdn.com/twemoji.min.js"></script>
    </head>
    <body class="post-template nav-closed" itemscope itemtype="http://schema.org/WebPage">
        <meta itemprop="name" content="Dimitris Glezos' Personal website">
        <meta itemprop="url" content="">
        <meta itemprop="headline" content="Dimitris Glezos' Personal website || ">
        <meta itemprop="description about" content="">
        <meta itemprop="keywords" content="">
        <meta itemprop="inLanguage" content="en">
<nav class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul role="menubar">
        <li class="" role="presentation"><a  href="/index.html" title="Dimitris Glezos' Personal website" itemprop="name" itemprop="significantLink">Home</a></li>
            <li role="presentation"><a  href="http://www.transifex.com/" title="Transifex" itemprop="name" itemprop="significantLink">Transifex</a></li>
            <li role="presentation"><a  href="old" title="My really old website" itemprop="name" itemprop="significantLink">My really old website</a></li>
            <li class="" role="presentation"><a  href="/archives.html" title="Dimitris Glezos' Personal website | Archives" itemprop="name" itemprop="significantLink">Archives</a></li>
    </ul>
</nav>
<span class="nav-cover"></span>        <div class="site-wrapper">
            <header class="main-header post-head" style="background-image: url('/');" itemscope itemtype="http://schema.org/WPHeader">
                <div class="vertical">
                    <div class="main-header-content inner">
                        <h1 class="page-title" itemprop="headline">Test-wrapped development: Develop from within your tests</h1>
                        <section class="post-meta">
                            <time class="post-date" itemprop="datePublished" datetime="2011YYY-14M-%DD">Friday, March 11, 2011</time>
                            on                         </section>
                    </div>
                </div>
                <nav class="main-nav overlay clearfix">
                    <a class="menu-button" href="#">
                        <span class="burger">&#9776;</span>
                        <span class="word">Menu</span>
                    </a>
                </nav>
                <div class="vertical">
                    <div class="main-header-content inner">
                    </div>
                </div>
            </header>
<main id="content" class="content" role="main">
    <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
<!--        <header class="post-header">
            <h1 class="post-title" itemprop="headline">Test-wrapped development: Develop from within your tests</h1>
            <section class="post-meta">
                <time class="post-date" itemprop="datePublished" datetime="2011YYY-14M-%DD">Friday, March 11, 2011</time>
                on             </section>
        </header>-->
        <section class="post-content">
            <p>Here's something neat. Today I decided not to develop using the Django
development server, but instead do that from inside my tests. This way I will
work directly on my test database which runs with my test fixtures and when
I'm ready, I'll just write the necessary assertions.</p>
<p>Previously I talked about rendering the test client's <a href="http://miniblog.glezos.com/post/3388080372/tests-browser">responses in the
browser</a> to view the
results of your tests live, before choosing the correct assertions. This time
I'm wrapping the code in a while loop to iterate over my development workflow.</p>
<p>This is something different than test-driven development. This way you don't
run your tests for every development iteration, but rather you just "stuck"
your test case until you like what you see in your code. Here's an example
from a unit test:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">transifex.txcommon.tests.utils</span> <span class="kn">import</span> <span class="n">response_in_browser</span>
<span class="k">def</span> <span class="nf">test_homepage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;anonymous&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="n">response_in_browser</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">halt</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

        <span class="c1"># Loop control:</span>
        <span class="n">ch</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s2">&quot;Halted. [r]eload, drop to [s]hell or any other key to continue: &quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="k">continue</span><span class="p">;</span>
        <span class="k">elif</span> <span class="n">ch</span> <span class="o">==</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="kn">from</span> <span class="nn">IPython.Shell</span> <span class="kn">import</span> <span class="n">IPShellEmbed</span><span class="p">;</span> <span class="n">IPShellEmbed</span><span class="p">()()</span>
        <span class="k">else</span><span class="p">:</span> <span class="k">break</span>
</pre></div>


<p>Now when I run the test, my browser opens up showing how my homepage looks
like. I start tweaking the template, hit <code>r</code> and view the page in the
browser again. When I'm satisfied with what I see, I copy-paste from the
browser some of the test I want to assert against and hit 's' to drop in a
shell.</p>
<p>I write my assertions there, in-place, with the test data initialized and
ready to be asserted against. When I'm happy with those assertions, I just
copy-paste them in the test case and remove the while statement and loop control code.</p>
<p>This type of testing &amp; development works well for template testing. I'm not sure how this should be called. It's test-wrapped development or something.</p>
<p>Also note that the following config variables will be needed:</p>
<div class="highlight"><pre><span></span>TEMPLATE_DEBUG = True
CACHE_BACKEND = &#39;dummy://&#39;
</pre></div>
            <br/>
        </section>
        <footer class="post-footer">
            <figure class="author-image">
                <a class="img" href="author/glezos-blog.html" style="background-image: url('/theme/glezos_portrait_square.jpg')"><span class="hidden">glezos-blog's Picture</span></a>
            </figure>
            <section class="author">
                <h4>
                    <a href="author/glezos-blog.html">glezos-blog</a>
                </h4>
                <p></p>
                <div class="author-meta">
                    <span class="author-location icon-location"></span>
                </div>
            </section>
            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Test-wrapped%20development%3A%20Develop%20from%20within%2 ...%20via%20%40&amp;url=/2011-03-11-test-wrapped-development.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=/2011-03-11-test-wrapped-development.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=/2011-03-11-test-wrapped-development.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
        </footer>
    </article>
</main>
<aside class="read-next">
</aside>            <footer class="site-footer clearfix" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter">
            <!--
                <section class="copyright">
                    <a itemprop="url" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
                        CC Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
                </section>
            -->
                <section class="poweredby">
                    Proudly published with
                    <a itemprop="url" href="https://getpelican.org" target="_blank">Pelican</a>
                </section>
            </footer>
        </div>
    <script type="text/javascript" src="/theme/js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="/theme/js/jquery.fitvids.min.js"></script>
    <script type="text/javascript" src="/theme/js/index.min.js"></script>
    <script>twemoji.parse(document, {"size":16});</script>
    </body>
</html>